<!--TELA HOME-->
<div class="home-page">
  <div class="cabecalho">
    <h2>Sistema de gestão</h2>
    <form class="pesquisa-conteudo" [formGroup]="form" (submit)="onSubmit()">
      <input type="text" formControlName="value" class="cliente" placeholder="Insira o código ou o nome do cliente">
      <button class="btn btn-primary" type="submit">Pesquisar</button>
      <button (click)="logout()">Sair</button>
    </form>
  </div>

  <div class="container">
    <div class="listaCliente">
      <div class="add-cliente">
        <h3>Clientes</h3>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#adicionarClienteModal">
          Adicionar Cliente
        </button>
      </div>
      <p-table class="table table-striped" [value]="clientes" [paginator]="true" [rows]="5" [tableStyle]="{ 'min-width': '50rem' }"
        [rowsPerPageOptions]="[5, 10, 20]">
        <ng-template pTemplate="header">
          <tr>
            <th >ID - Cliente</th>
            <th >Nome</th>
            <th >CPF</th>
            <th >Email</th>
            <th >Ações</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer>
          <tr class="py-2">
            <th scope="row">{{ customer.idCliente }}</th>
            <td class="py-2"> {{ customer.nome }} </td>
            <td class="py-2">{{ customer.cpf | mask: '000.000.000-00' }}</td>
            <td class="py-2">{{ customer.email }}</td>
            <td class="py-2">
              <button (click)="verMais(customer)" class="btn btn-primary">Ver Mais</button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

<!--MODAL PARA ADICIONAR UM CLIENTE-->
<div class="modal fade" id="adicionarClienteModal" tabindex="-1" role="dialog"
  aria-labelledby="adicionarClienteModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="adicionarClienteModalLabel">Adicionar Cliente</h5>
      </div>
      <div class="modal-body">
        <form [formGroup]="formCliente">
          <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" class="form-control" id="nome" formControlName="nome">
          </div>

          <div class="form-group">
            <label for="cpf">CPF:</label>
            <input type="text" class="form-control" mask="000.000.000-00" id="cpf" formControlName="cpf">
            <div  *ngIf="formCliente.get('cpf')?.hasError('minlength') && formCliente.get('cpf')?.touched" class="text-danger">
              O cpf deve ter no mínimo 11 caracteres.
            </div>
          </div>

          <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" class="form-control" id="email" formControlName="email">
          </div>

          <div class="form-group">
            <label for="telefone">Telefone:</label>
            <input type="text" class="form-control" id="telefone" mask="(00)0000-0000||(00)00000-0000" formControlName="telefone">
          </div>

          <div class="form-group">
            <label for="logradouro">Logradouro:</label>
            <input type="text" class="form-control" id="logradouro" formControlName="logradouro">
          </div>

          <div class="form-group">
            <label for="numero">Número:</label>
            <input type="text" class="form-control" id="numero" formControlName="numero">
          </div>

          <div class="form-group">
            <label for="complemento">Complemento:</label>
            <input type="text" class="form-control" id="complemento" formControlName="complemento">
          </div>

          <div class="form-group">
            <label for="bairro">Bairro:</label>
            <input type="text" class="form-control" id="bairro" formControlName="bairro">
          </div>

          <div class="form-group">
            <label for="cidade">Cidade:</label>
            <input type="text" class="form-control" id="cidade" formControlName="cidade">
          </div>

          <div class="form-group">
            <label for="uf">UF:</label>
            <input type="text" class="form-control" id="uf" formControlName="uf">
          </div>

          <div class="form-group">
            <label for="cep">CEP:</label>
            <input type="text" class="form-control" id="cep" formControlName="cep">
          </div>

          <div class="form-group">
            <label for="rendaMensal">Renda Mensal:</label>
            <input type="number" class="form-control" id="rendaMensal" formControlName="rendaMensal">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="onSend()" data-dismiss="modal">Salvar</button>
      </div>
    </div>
  </div>
</div>